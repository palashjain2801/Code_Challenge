(this.webpackJsonptesting2=this.webpackJsonptesting2||[]).push([[0],{166:function(e,t,a){e.exports=a(454)},171:function(e,t,a){},174:function(e,t,a){},438:function(e,t){},454:function(e,t,a){"use strict";a.r(t);var c=a(2),n=a.n(c),o=a(163),s=a.n(o),r=(a(171),a(4)),l=a.n(r),i=a(164),d=a(55),p=a(87);const u=[{Header:"ID",accessor:"id"},{Header:"First Name",accessor:"firstName"},{Header:"Last Name",accessor:"lastName"},{Header:"Contact Tags",accessor:"contactTags"},{Header:"deals",accessor:"deals"},{Header:"total",accessor:"total"},{Header:"location",accessor:"geoIps"}];a(174);var g=a(165);const m=n.a.forwardRef((e,t)=>{let a=e.indeterminate,c=Object(g.a)(e,["indeterminate"]);const o=n.a.useRef(),s=t||o;return n.a.useEffect(()=>{s.current.indeterminate=a},[s,a]),n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({type:"checkbox",ref:s},c)))});a(56),a(158);const f=()=>{const e=Object(c.useMemo)(()=>u,[]),t=Object(c.useState)([]),a=Object(d.a)(t,2),o=a[0],s=a[1],r=n.a.useState([]),g=Object(d.a)(r,2),f=(g[0],g[1],Object(c.useState)([])),h=Object(d.a)(f,2),b=(h[0],h[1],(e,t,a)=>{let c="";fetch("https://cors-anywhere.herokuapp.com/https://sahmed93846.api-us1.com/"+e,{headers:{"Content-Type":"application/json","Api-Token":"bcd062dedabcd0f1ac8a568cdcf58660c44d7e79b91763cc1a5d0c03d52c522d851fceb0"}}).then(t=>{if(t.ok)return t.json();console.log("Error Fetching DataFrom Link: "+e)}).then(e=>{e[t]&&(c=e[t],a(c))}).catch(e=>{console.error(e)})});function E(){return(E=Object(i.a)(l.a.mark((function e(t,a){var c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c={},Object.keys(t).map(e=>{const a=t.id;c[e]=t[e],"links"===e&&Object.keys(t[e]).map(e=>{if("contactTags"===e){b("api/3/contacts/"+a+"/contactTags","contactTags",(function(e){let t="";e&&e.length>0&&e.forEach((a,n)=>{const o="api/3/contactTags/"+a.id+"/tag";b(o,"tag",(function(a){t+=a.tag,n<e.length-1&&(t+=",");c.contactTags=String(t)}))})}))}if("deals"===e){b("api/3/contacts/"+a+"/deals","deals",(function(e){let t="";e&&e.length>0&&e.forEach((a,c)=>{t=t+a.value+" "+a.currency,c<e.length-1&&(t+=",")});c.total=String(t),c.deals=String(e.length)}))}if("geoIps"===e){b("api/3/contacts/"+a+"/geoIps","geoIps",(function(t){let a="";t&&t.length>0&&(a="",t.forEach(t=>{const n="api/3/geoIps/"+t.id+"/geoAddress";b(n,"geoAddress",(function(t){a+=t.city+", "+t.state+", "+t.country+";",c[e]=a}))}))}))}})}),a(c);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}let j=[];Object(c.useEffect)(()=>{fetch("/api/3/contacts?limit=9",{headers:{"Content-Type":"application/json","Api-Token":"bcd062dedabcd0f1ac8a568cdcf58660c44d7e79b91763cc1a5d0c03d52c522d851fceb0"}}).then(e=>e.json()).then(e=>{Object.values(e.contacts).map(e=>{!function(e,t){E.apply(this,arguments)}(e,(function(e){j.push(e)}))})}).catch(e=>{console.log("Failed list Contacts"),console.error(e)}),setTimeout(()=>{s(j)},1e4)},[]);const T=Object(p.useTable)({columns:e,data:o},p.useRowSelect,e=>{e.visibleColumns.push(e=>[{id:"selection",Header:({getToggleAllRowsSelectedProps:e})=>n.a.createElement(m,e()),Cell:({row:e})=>n.a.createElement(m,e.getToggleRowSelectedProps())},...e])}),w=T.getTableProps,y=T.getTableBodyProps,O=T.headerGroups,k=T.rows,H=T.prepareRow,S=T.selectedFlatRows,R=k.slice(0,100);return n.a.createElement(n.a.Fragment,null,n.a.createElement("table",w(),n.a.createElement("thead",null,O.map(e=>n.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(e=>n.a.createElement("th",e.getHeaderProps(),e.render("Header")))))),n.a.createElement("tbody",y(),R.map(e=>(H(e),n.a.createElement("tr",e.getRowProps(),e.cells.map(e=>n.a.createElement("td",e.getCellProps(),e.render("Cell")))))))),n.a.createElement("pre",null,n.a.createElement("code",null,JSON.stringify({selectedFlatRows:S.map(e=>e.original)},null,2))))};function h(){return n.a.createElement(f,null)}const b=document.getElementById("root");s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(h,null)),b)}},[[166,1,2]]]);
//# sourceMappingURL=main.e1ed491a.chunk.js.map